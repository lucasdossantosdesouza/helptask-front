<h2 class="mt-5">Nova Task</h2>
<div class="table-responsive" >
  <alert id="alert-1"></alert>
<form #tasknewForm="ngForm" (ngSubmit)="registrar()" >
      <div class="form-group" *ngIf="shared.usuario.profile == 'CUSTOMER' ">     

      <label for="exampleInputTitulo" >Título</label>

      <input type="text" [(ngModel)]="task.titulo" class="form-control" name="titulo"
      id="exampleInputTitulo"  placeholder="Seu titulo"  #titulo="ngModel" titulo required> 

        <div  class="alert alert-danger"  
        style="width: 250px;" *ngIf=" titulo.invalid && (titulo.dirty || titulo.touched)">   
           Titulo é Obrigatório       
        </div>

    </div>

    <div class="form-group" *ngIf="shared.usuario.profile == 'CUSTOMER' ">

        <label for="examplePriority">Prioridade</label>

        <select  [(ngModel)]="task.priority"  name="priority"
        class="form-control select2" id="examplePriority" style="width: 100%;"
        #priority="ngModel"  priority required>
            <option value="High">Alta</option>
            <option value="Normal">Normal</option>
            <option value="Low">Baixa</option>
        </select>

        <div class="alert alert-danger" style="width: 250px;" 
        *ngIf="priority.invalid && (priority.dirty || priority.touched)">
        Prioridade é Obrigatorio</div>

    </div>

    <div class="form-group" *ngIf="shared.usuario.profile == 'CUSTOMER' ">

      <label for="exampleInputDescription">Descrição</label>

      <textarea rows="3" [(ngModel)]="task.description" 
      class="form-control" name="description"
      id="exampleInputDescription" placeholder="Sua Descrição"
       #description="ngModel" description required>      
    </textarea>
        <div  class="alert alert-danger"  
        style="width: 250px;" *ngIf=" description.invalid && 
        (description.dirty || description.touched)">   
        Descrição é Obrigatória      
        </div>

    </div>

    <div class="form-group" *ngIf="task.status != 'Closed'">

      <label for="dataAgendamento">Data Agendamento</label>

      <input class="form-control" type="datetime-local" id="dataAgendamento"
      id="dataAgendamento"
      [(ngModel)]="task.dataAgendamento" 
      class="form-control" name="dataAgendamento"  #dataAgendamento="ngModel" dataAgendamento required>

        <div  class="alert alert-danger"  
        style="width: 250px;" *ngIf=" dataAgendamento.invalid && 
        (dataAgendamento.dirty || dataAgendamento.touched)">   
        Data agendamento é Obrigatória      
        </div>

    </div>    

    <div class="form-group" *ngIf="shared.usuario.profile == 'TECHNICIAN' ">

      <label >Tempo Gasto</label>
      <br>
      <label for="dias">Dias</label> 
      <input class="form-control" type="text" id="dias"
      id="dias"
      [(ngModel)]="dias" 
      class="form-control" name="dias"  > 
      <label for="dataAgendamento">Horas</label>    
      <input class="form-control" type="time" id="horas"
      id="horas"
      [(ngModel)]="horas" 
      class="form-control" name="horas"  >  

    </div>    

      <div class="col-sm"><label for="exampleInputDescription">Imagem</label></div>
      <div class="col-sm">
        <img [src]="task.image" width="30%" height="30%">
        <span class="espaco"></span>
        <input type="file" id="image" (change)="onFileChange($event)">
      </div>
   <br>
    <div>
        <button type="submit" class="btn btn-primary" 
        [disabled]="!tasknewForm.valid" >Enviar</button> 
    </div>
    
  </form>
  

</div>
 
